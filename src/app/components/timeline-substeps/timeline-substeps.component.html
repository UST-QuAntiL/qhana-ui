<mat-accordion multi="true">
    <mat-expansion-panel *ngFor="let step of substeps; trackBy: trackByFunction" togglePosition="before"
        [expanded]="!step.cleared">
        <mat-expansion-panel-header>
            <mat-panel-title>
                Substep {{step.substepNr}} {{step.substepId ? '- ' + step.substepId : ''}}
            </mat-panel-title>
        </mat-expansion-panel-header>
        <div>
            <div *ngIf="!step.cleared && step.hrefUi">
                <qhana-plugin-uiframe [url]="step.hrefUi" (formDataSubmit)="onPluginUiFormSubmit($event)">
                </qhana-plugin-uiframe>
            </div>
            <p *ngIf="!step.cleared && !step.hrefUi">
                Substep is not cleared but does not provide a microfrontend.
                (href: {{step.href}})
            </p>
            <!-- todo input and output data -->
        </div>
    </mat-expansion-panel>
</mat-accordion>
